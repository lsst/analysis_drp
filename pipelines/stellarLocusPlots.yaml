description: Make stellar locus plots for QA
tasks:

  # Each of the plots needs to have a stellarLocusFitDict
  # this dict contains xMin, xMax, yMin, yMax which define
  # a box in color space that is used for the fit. The
  # color space that it is depends on the plot. It also
  # contains a first guess for the fit parameters,
  # mHW and bHW. These numbers were derived for HSC in
  # pipe_analysis.
  plot_wFit_PSF:
    class: lsst.analysis.drp.colorColorFitPlot.ColorColorFitPlotTask
    config:
      connections.plotName: wFit_PSF
      axisActions.xAction.col1: "gPsFlux"
      axisActions.xAction.col2: "rPsFlux"
      axisActions.yAction.col1: "rPsFlux"
      axisActions.yAction.col2: "iPsFlux"
      axisActions.xAction.returnMillimags: False
      axisActions.yAction.returnMillimags: False
      axisActions.magAction.column: "rPsFlux"
      axisLabels: {"x": "g - r PS Magnitude (mag)",
                   "y": "r - i PS Magnitude (mag)",
                   "mag": "r PS Magnitude (mag)"}
      selectorActions.flagSelector: CoaddPlotFlagSelector
      selectorActions.flagSelector.bands: ["g", "r", "i"]
      selectorActions.SnSelector: SnSelector
      selectorActions.SnSelector.fluxType: "PsFlux"
      selectorActions.SnSelector.threshold: 50
      selectorActions.SnSelector.bands: ["g", "r", "i"]
      stellarLocusFitDict: {"xMin": 0.28, "xMax": 1.0, "yMin": 0.02, "yMax": 0.48,
                            "mHW": 0.52, "bHW": -0.08}
      python: >
        from lsst.analysis.drp.dataSelectors import CoaddPlotFlagSelector, SnSelector
  plot_wFit_CModel:
    class: lsst.analysis.drp.colorColorFitPlot.ColorColorFitPlotTask
    config:
      connections.plotName: wFit_CModel
      axisActions.xAction.col1: "gCModelFlux"
      axisActions.xAction.col2: "rCModelFlux"
      axisActions.yAction.col1: "rCModelFlux"
      axisActions.yAction.col2: "iCModelFlux"
      axisActions.xAction.returnMillimags: False
      axisActions.yAction.returnMillimags: False
      axisActions.magAction.column: "rCModelFlux"
      axisLabels: {"x": "g - r CModel Magnitude (mag)",
                   "y": "r - i CModel Magnitude (mag)",
                   "mag": "r CModel Magnitude (mag)"}
      selectorActions.flagSelector: CoaddPlotFlagSelector
      selectorActions.flagSelector.bands: ["g", "r", "i"]
      selectorActions.SnSelector: SnSelector
      selectorActions.SnSelector.fluxType: "CModelFlux"
      selectorActions.SnSelector.threshold: 50
      selectorActions.SnSelector.bands: ["g", "r", "i"]
      stellarLocusFitDict: {"xMin": 0.28, "xMax": 1.0, "yMin": 0.02, "yMax": 0.48,
                            "mHW": 0.52, "bHW": -0.08}
      python: >
        from lsst.analysis.drp.dataSelectors import CoaddPlotFlagSelector, SnSelector

  plot_xFit_PSF:
    class: lsst.analysis.drp.colorColorFitPlot.ColorColorFitPlotTask
    config:
      connections.plotName: xFit_PSF
      axisActions.xAction.col1: "gPsFlux"
      axisActions.xAction.col2: "rPsFlux"
      axisActions.yAction.col1: "rPsFlux"
      axisActions.yAction.col2: "iPsFlux"
      axisActions.xAction.returnMillimags: False
      axisActions.yAction.returnMillimags: False
      axisActions.magAction.column: "rPsFlux"
      axisLabels: {"x": "g - r PS Magnitude (mag)",
                   "y": "r - i PS Magnitude (mag)",
                   "mag": "r PS Magnitude (mag)"}
      selectorActions.flagSelector: CoaddPlotFlagSelector
      selectorActions.flagSelector.bands: ["g", "r", "i"]
      selectorActions.SnSelector: SnSelector
      selectorActions.SnSelector.fluxType: "PsFlux"
      selectorActions.SnSelector.threshold: 50
      selectorActions.SnSelector.bands: ["g", "r", "i"]
      stellarLocusFitDict: {"xMin": 1.05, "xMax": 1.55, "yMin": 0.78, "yMax": 1.62,
                            "mHW": 13.35, "bHW": -15.54}
      python: >
        from lsst.analysis.drp.dataSelectors import CoaddPlotFlagSelector, SnSelector
  plot_xFit_CModel:
    class: lsst.analysis.drp.colorColorFitPlot.ColorColorFitPlotTask
    config:
      connections.plotName: xFit_CModel
      axisActions.xAction.col1: "gCModelFlux"
      axisActions.xAction.col2: "rCModelFlux"
      axisActions.yAction.col1: "rCModelFlux"
      axisActions.yAction.col2: "iCModelFlux"
      axisActions.xAction.returnMillimags: False
      axisActions.yAction.returnMillimags: False
      axisActions.magAction.column: "rCModelFlux"
      axisLabels: {"x": "g - r CModel Magnitude (mag)",
                   "y": "r - i CModel Magnitude (mag)",
                   "mag": "r PS Magnitude (mag)"}
      selectorActions.flagSelector: CoaddPlotFlagSelector
      selectorActions.flagSelector.bands: ["g", "r", "i"]
      selectorActions.SnSelector: SnSelector
      selectorActions.SnSelector.fluxType: "PsFlux"
      selectorActions.SnSelector.threshold: 50
      selectorActions.SnSelector.bands: ["g", "r", "i"]
      stellarLocusFitDict: {"xMin": 1.05, "xMax": 1.55, "yMin": 0.78, "yMax": 1.62,
                            "mHW": 13.35, "bHW": -15.54}
      python: >
        from lsst.analysis.drp.dataSelectors import CoaddPlotFlagSelector, SnSelector

  plot_yFit_PSF:
    class: lsst.analysis.drp.colorColorFitPlot.ColorColorFitPlotTask
    config:
      connections.plotName: yFit_PSF
      axisActions.xAction.col1: "rPsFlux"
      axisActions.xAction.col2: "iPsFlux"
      axisActions.yAction.col1: "iPsFlux"
      axisActions.yAction.col2: "zPsFlux"
      axisActions.xAction.returnMillimags: False
      axisActions.yAction.returnMillimags: False
      axisActions.magAction.column: "iPsFlux"
      axisLabels: {"x": "r - i PS Magnitude (mag)",
                   "y": "i - z PS Magnitude (mag)",
                   "mag": "i PS Magnitude (mag)"}
      selectorActions.flagSelector: CoaddPlotFlagSelector
      selectorActions.flagSelector.bands: ["r", "i", "z"]
      selectorActions.SnSelector: SnSelector
      selectorActions.SnSelector.fluxType: "PsFlux"
      selectorActions.SnSelector.threshold: 50
      selectorActions.SnSelector.bands: ["r", "i", "z"]
      stellarLocusFitDict: {"xMin": 0.82, "xMax": 2.01, "yMin": 0.37, "yMax": 0.9,
                            "mHW": 0.40, "bHW": 0.03}
      python: >
        from lsst.analysis.drp.dataSelectors import CoaddPlotFlagSelector, SnSelector
  plot_yFit_CModel:
    class: lsst.analysis.drp.colorColorFitPlot.ColorColorFitPlotTask
    config:
      connections.plotName: yFit_CModel
      axisActions.xAction.col1: "rCModelFlux"
      axisActions.xAction.col2: "iCModelFlux"
      axisActions.yAction.col1: "iCModelFlux"
      axisActions.yAction.col2: "zCModelFlux"
      axisActions.xAction.returnMillimags: False
      axisActions.yAction.returnMillimags: False
      axisActions.magAction.column: "iCModelFlux"
      axisLabels: {"x": "r - i CModel Magnitude (mag)",
                   "y": "i - z CModel Magnitude (mag)",
                   "mag": "i PS Magnitude (mag)"}
      selectorActions.flagSelector: CoaddPlotFlagSelector
      selectorActions.flagSelector.bands: ["r", "i", "z"]
      selectorActions.SnSelector: SnSelector
      selectorActions.SnSelector.fluxType: "PsFlux"
      selectorActions.SnSelector.threshold: 50
      selectorActions.SnSelector.bands: ["r", "i", "z"]
      stellarLocusFitDict: {"xMin": 0.82, "xMax": 2.01, "yMin": 0.37, "yMax": 0.9,
                            "mHW": 0.40, "bHW": 0.03}
      python: >
        from lsst.analysis.drp.dataSelectors import CoaddPlotFlagSelector, SnSelector
